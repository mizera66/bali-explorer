# Bali Explorer v3.2.2 - Changelog

## üéØ –ß—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å

### 1. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –∞–¥–º–∏–Ω–∫–∏ —Å –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ–π
- **–û–¥–æ–±—Ä–µ–Ω–Ω—ã–µ –∫–∞—Ä—Ç–æ—á–∫–∏ —Ç–µ–ø–µ—Ä—å –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –Ω–∞ —Å–∞–π—Ç–µ**
- –ö–∞—Ä—Ç–æ—á–∫–∏ –∏–∑ localStorage (—Å–æ —Å—Ç–∞—Ç—É—Å–æ–º 'active') –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è –≤–º–µ—Å—Ç–µ —Å –∫–∞—Ä—Ç–æ—á–∫–∞–º–∏ –∏–∑ db.ts
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –∫–Ω–æ–ø–∫–∞ –∞–ø—Ä—É–≤–∞ (‚úì) –≤ –∞–¥–º–∏–Ω–∫–µ –¥–ª—è –Ω–µ–ø—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã—Ö –∫–∞—Ä—Ç–æ—á–µ–∫

### 2. –§–ª–æ—É —Ä–∞–±–æ—Ç—ã —Å –∫–∞—Ä—Ç–æ—á–∫–∞–º–∏
```
–°–æ–∑–¥–∞–Ω–∏–µ –∫–∞—Ä—Ç–æ—á–∫–∏ ‚Üí —Å—Ç–∞—Ç—É—Å "unverified" ‚Üí –∫–Ω–æ–ø–∫–∞ "–û–¥–æ–±—Ä–∏—Ç—å" ‚Üí —Å—Ç–∞—Ç—É—Å "active" ‚Üí –∫–∞—Ä—Ç–æ—á–∫–∞ –Ω–∞ —Å–∞–π—Ç–µ
```

#### –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:
1. **–°–æ–∑–¥–∞–µ—Ç–µ –∫–∞—Ä—Ç–æ—á–∫—É** —á–µ—Ä–µ–∑ –∞–¥–º–∏–Ω–∫—É (–≤—Ä—É—á–Ω—É—é –∏–ª–∏ –∏–º–ø–æ—Ä—Ç JSON)
2. **–ö–∞—Ä—Ç–æ—á–∫–∞ –ø–æ—è–≤–ª—è–µ—Ç—Å—è –≤ —Å—Ç–∞—Ç—É—Å–µ "–ù–µ–ø—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–µ"** –≤ –∞–¥–º–∏–Ω–∫–µ
3. **–ú–æ–∂–µ—Ç–µ –æ—Ç–∫—Ä—ã—Ç—å –∏ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å** —Å—Ç—Ä–∞–Ω–∏—Ü—É –∫–∞—Ä—Ç–æ—á–∫–∏ (–∫–Ω–æ–ø–∫–∞ "üëÅÔ∏è")
4. **–ù–∞–∂–∏–º–∞–µ—Ç–µ –∫–Ω–æ–ø–∫—É "‚úì" (–û–¥–æ–±—Ä–∏—Ç—å)** ‚Üí —Å—Ç–∞—Ç—É—Å –º–µ–Ω—è–µ—Ç—Å—è –Ω–∞ "active"
5. **–ö–∞—Ä—Ç–æ—á–∫–∞ –ø–æ—è–≤–ª—è–µ—Ç—Å—è –Ω–∞ –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ** –∏ –≤–æ –≤—Å–µ—Ö —Å–ø–∏—Å–∫–∞—Ö

### 3. –ú–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω db-service
**–§–∞–π–ª:** `/lib/db-service.ts`

–¢–µ–ø–µ—Ä—å —Ñ—É–Ω–∫—Ü–∏–∏ `getEntities()`, `getEntity()`, `getPopular()` —á–∏—Ç–∞—é—Ç –¥–∞–Ω–Ω—ã–µ –∏–∑ –¥–≤—É—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤:
- `/data/db.ts` (—Å—Ç–∞—Ç–∏—á–Ω—ã–µ –∫–∞—Ä—Ç–æ—á–∫–∏)
- `localStorage('bali_entities')` (–∫–∞—Ä—Ç–æ—á–∫–∏ –∏–∑ –∞–¥–º–∏–Ω–∫–∏ —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º 'active')

### 4. –î–æ–±–∞–≤–ª–µ–Ω–∞ —É—Ç–∏–ª–∏—Ç–∞ –æ—á–∏—Å—Ç–∫–∏
**–§–∞–π–ª:** `/public/clear-admin-storage.html`

–û—Ç–∫—Ä—ã—Ç—å –≤ –±—Ä–∞—É–∑–µ—Ä–µ: `http://localhost:3000/clear-admin-storage.html`

–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –æ—á–∏—Å—Ç–∫–∏ –Ω–∞—á–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –∏–∑ localStorage –∞–¥–º–∏–Ω–∫–∏.

---

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –®–∞–≥ 1: –û—á–∏—Å—Ç–∏—Ç—å –∞–¥–º–∏–Ω–∫—É
```bash
# –û—Ç–∫—Ä—ã—Ç—å –≤ –±—Ä–∞—É–∑–µ—Ä–µ
http://localhost:3000/clear-admin-storage.html

# –ù–∞–∂–∞—Ç—å "–û—á–∏—Å—Ç–∏—Ç—å localStorage"
```

### –®–∞–≥ 2: –ó–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–æ–µ–∫—Ç
```bash
cd bali-v3.2.1
npm install
npm run dev
```

### –®–∞–≥ 3: –í–æ–π—Ç–∏ –≤ –∞–¥–º–∏–Ω–∫—É
```
URL: http://localhost:3000/admin
–ü–∞—Ä–æ–ª—å: bali2025
```

### –®–∞–≥ 4: –°–æ–∑–¥–∞—Ç—å –∫–∞—Ä—Ç–æ—á–∫—É
1. –ù–∞–∂–∞—Ç—å "+ –î–æ–±–∞–≤–∏—Ç—å –∫–∞—Ä—Ç–æ—á–∫—É"
2. –ó–∞–ø–æ–ª–Ω–∏—Ç—å —Ñ–æ—Ä–º—É
3. –ù–∞–∂–∞—Ç—å "–°–æ—Ö—Ä–∞–Ω–∏—Ç—å"
4. **–ö–∞—Ä—Ç–æ—á–∫–∞ –ø–æ—è–≤–∏—Ç—Å—è –≤ —Å—Ç–∞—Ç—É—Å–µ "–ù–µ–ø—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–µ"**

### –®–∞–≥ 5: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏ –æ–¥–æ–±—Ä–∏—Ç—å
1. –ù–∞–∂–∞—Ç—å "üëÅÔ∏è" —á—Ç–æ–±—ã –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É –∫–∞—Ä—Ç–æ—á–∫–∏
2. –í–µ—Ä–Ω—É—Ç—å—Å—è –≤ –∞–¥–º–∏–Ω–∫—É
3. –ù–∞–∂–∞—Ç—å "‚úì" (–∑–µ–ª–µ–Ω–∞—è –∫–Ω–æ–ø–∫–∞) –¥–ª—è –æ–¥–æ–±—Ä–µ–Ω–∏—è
4. **–ö–∞—Ä—Ç–æ—á–∫–∞ —Ç–µ–ø–µ—Ä—å –Ω–∞ –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ!**

---

## üìä –°—Ç–∞—Ç—É—Å—ã –∫–∞—Ä—Ç–æ—á–µ–∫

| –°—Ç–∞—Ç—É—Å | –û–ø–∏—Å–∞–Ω–∏–µ | –ì–¥–µ –≤–∏–¥–Ω–∞ |
|--------|----------|-----------|
| `unverified` | –¢–æ–ª—å–∫–æ —á—Ç–æ –¥–æ–±–∞–≤–ª–µ–Ω–∞, –Ω–µ –ø—Ä–æ–≤–µ—Ä–µ–Ω–∞ | –¢–æ–ª—å–∫–æ –≤ –∞–¥–º–∏–Ω–∫–µ |
| `active` | –û–¥–æ–±—Ä–µ–Ω–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º | –ê–¥–º–∏–Ω–∫–∞ + –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ |
| `flagged` | –° –∂–∞–ª–æ–±–∞–º–∏ | –ê–¥–º–∏–Ω–∫–∞ |
| `archived` | –£–¥–∞–ª–µ–Ω–∞ | –ù–∏–≥–¥–µ (—Å–∫—Ä—ã—Ç–∞) |

---

## üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∏—è –≤ —Ñ–∞–π–ª–∞—Ö

### 1. `/lib/db-service.ts`
- –î–æ–±–∞–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `getLocalStorageEntities()`
- –ú–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω—ã `getEntities()`, `getEntity()`, `getPopular()`
- –¢–µ–ø–µ—Ä—å –æ–±—ä–µ–¥–∏–Ω—è–µ—Ç –¥–∞–Ω–Ω—ã–µ –∏–∑ db.ts –∏ localStorage

### 2. `/app/admin/page.tsx`
- –î–æ–±–∞–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `handleApprove()`
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –∫–Ω–æ–ø–∫–∞ –∞–ø—Ä—É–≤–∞ (‚úì) –¥–ª—è –∫–∞—Ä—Ç–æ—á–µ–∫ —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º 'unverified'
- –£–ª—É—á—à–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å—Ç–∞—Ç—É—Å–æ–≤

### 3. `/components/EntityForm.tsx`
- –°—Ç–∞—Ç—É—Å 'unverified' —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
- –ò–º–ø–æ—Ä—Ç JSON —Å–æ–∑–¥–∞–µ—Ç –∫–∞—Ä—Ç–æ—á–∫–∏ –≤ —Å—Ç–∞—Ç—É—Å–µ 'unverified'

### 4. `/public/clear-admin-storage.html` (–Ω–æ–≤—ã–π —Ñ–∞–π–ª)
- –£—Ç–∏–ª–∏—Ç–∞ –¥–ª—è –æ—á–∏—Å—Ç–∫–∏ localStorage
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–µ–∫—É—â–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è

---

## üé® UI –∏–∑–º–µ–Ω–µ–Ω–∏—è

### –ö–Ω–æ–ø–∫–∞ –∞–ø—Ä—É–≤–∞ –≤ –∞–¥–º–∏–Ω–∫–µ
- **–ò–∫–æ–Ω–∫–∞:** –ó–µ–ª–µ–Ω–∞—è –≥–∞–ª–æ—á–∫–∞ (‚úì)
- **–ü–æ—è–≤–ª—è–µ—Ç—Å—è:** –¢–æ–ª—å–∫–æ –¥–ª—è –∫–∞—Ä—Ç–æ—á–µ–∫ —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º 'unverified'
- **–î–µ–π—Å—Ç–≤–∏–µ:** –ú–µ–Ω—è–µ—Ç —Å—Ç–∞—Ç—É—Å –Ω–∞ 'active'
- **–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ:** –°–ø—Ä–∞—à–∏–≤–∞–µ—Ç –ø–µ—Ä–µ–¥ –æ–¥–æ–±—Ä–µ–Ω–∏–µ–º

---

## üìù –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

### –ü—Ä–æ localStorage
- –î–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –º–µ–∂–¥—É –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞–º–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
- –ù–ï —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –º–µ–∂–¥—É —Ä–∞–∑–Ω—ã–º–∏ –±—Ä–∞—É–∑–µ—Ä–∞–º–∏
- –£–¥–∞–ª—è—é—Ç—Å—è –ø—Ä–∏ –æ—á–∏—Å—Ç–∫–µ –∫–µ—à–∞ –±—Ä–∞—É–∑–µ—Ä–∞
- –≠—Ç–æ –≤—Ä–µ–º–µ–Ω–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ –¥–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è PostgreSQL

### –ü—Ä–æ –º–∞–ø–ø–∏–Ω–≥ –¥–∞–Ω–Ω—ã—Ö
localStorage –∫–∞—Ä—Ç–æ—á–∫–∏ –∏–º–µ—é—Ç —Ñ–æ—Ä–º–∞—Ç –ø–∞—Ä—Å–µ—Ä–∞ (totalScore, placesTags, imageUrls), –∞ db.ts –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –¥—Ä—É–≥–æ–π —Ñ–æ—Ä–º–∞—Ç (rating, tags, gallery).

db-service –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ—Ç —Ñ–æ—Ä–º–∞—Ç—ã:
```javascript
rating: entity.totalScore ? Number(entity.totalScore) : entity.rating
tags: entity.placesTags || entity.tags
gallery: entity.imageUrls || entity.gallery
```

### –ü—Ä–æ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –∫–∞—Ä—Ç–æ—á–µ–∫
–°—Ç—Ä–∞–Ω–∏—Ü—ã `/entity/[id]` —Ä–∞–±–æ—Ç–∞—é—Ç –¥–ª—è –∫–∞—Ä—Ç–æ—á–µ–∫ –∏–∑ –æ–±–æ–∏—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤:
- db.ts (id —Ñ–æ—Ä–º–∞—Ç–∞ 'bike-1', 'spa-2')
- localStorage (id —Ñ–æ—Ä–º–∞—Ç–∞ '1738606789123_0_abc123')

---

## üêõ –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

1. **localStorage –≤–º–µ—Å—Ç–æ —Ä–µ–∞–ª—å–Ω–æ–π –ë–î** - –¥–∞–Ω–Ω—ã–µ –ª–æ–∫–∞–ª—å–Ω—ã–µ
2. **–ù–µ—Ç —Å–µ—Ä–≤–µ—Ä–Ω–æ–≥–æ API** - –≤—Å–µ –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ
3. **–ü—Ä–æ—Å—Ç–∞—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è** - –ø–∞—Ä–æ–ª—å –≤ –∫–æ–¥–µ
4. **–ù–µ—Ç —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏** –º–µ–∂–¥—É –±—Ä–∞—É–∑–µ—Ä–∞–º–∏/—É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º–∏

---

## üîú –ü–ª–∞–Ω—ã —Ä–∞–∑–≤–∏—Ç–∏—è (v3.3.0+)

- [ ] –ü–æ–¥–∫–ª—é—á–∏—Ç—å Supabase/PostgreSQL
- [ ] API endpoints –¥–ª—è CRUD –æ–ø–µ—Ä–∞—Ü–∏–π
- [ ] –ü–æ–ª–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å db.ts (–æ–¥–∏–Ω –∏—Å—Ç–æ—á–Ω–∏–∫ –¥–∞–Ω–Ω—ã—Ö)
- [ ] –ó–∞–≥—Ä—É–∑–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π (—Å–µ–π—á–∞—Å —Ç–æ–ª—å–∫–æ URL)
- [ ] –°–∏—Å—Ç–µ–º–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –≤ –∞–¥–º–∏–Ω–∫–µ
- [ ] –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π –∫–∞—Ä—Ç–æ—á–µ–∫
- [ ] Bulk –æ–ø–µ—Ä–∞—Ü–∏–∏ (–º–∞—Å—Å–æ–≤–æ–µ –æ–¥–æ–±—Ä–µ–Ω–∏–µ/—É–¥–∞–ª–µ–Ω–∏–µ)

---

## üí¨ –î–ª—è —Å–ª–µ–¥—É—é—â–µ–≥–æ –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–∞

**–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –º–æ–º–µ–Ω—Ç—ã:**
1. **–î–≤–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö:** db.ts (—Å—Ç–∞—Ç–∏—á–Ω–∞—è) + localStorage (–¥–∏–Ω–∞–º–∏—á–Ω–∞—è)
2. **db-service –æ–±—ä–µ–¥–∏–Ω—è–µ—Ç –∏—Ö:** —Ç–æ–ª—å–∫–æ –∫–∞—Ä—Ç–æ—á–∫–∏ —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º 'active' –ø–æ–ø–∞–¥–∞—é—Ç –Ω–∞ —Å–∞–π—Ç
3. **–ê–ø—Ä—É–≤ –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω:** –∫–∞—Ä—Ç–æ—á–∫–∞ –Ω–µ –ø–æ—è–≤–∏—Ç—Å—è –Ω–∞ —Å–∞–π—Ç–µ –ø–æ–∫–∞ –Ω–µ –æ–¥–æ–±—Ä–µ–Ω–∞
4. **–ú–∞–ø–ø–∏–Ω–≥ —Ñ–æ—Ä–º–∞—Ç–æ–≤:** localStorage ‚Üí db.ts —Ñ–æ—Ä–º–∞—Ç —á–µ—Ä–µ–∑ —Ñ—É–Ω–∫—Ü–∏—é getLocalStorageEntities()

**–ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
- –ü—Ä–æ–≤–µ—Ä—å localStorage –≤ DevTools ‚Üí Application ‚Üí Local Storage
- –ü—Ä–æ–≤–µ—Ä—å —Å—Ç–∞—Ç—É—Å –∫–∞—Ä—Ç–æ—á–∫–∏ (–¥–æ–ª–∂–µ–Ω –±—ã—Ç—å 'active' –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –Ω–∞ —Å–∞–π—Ç–µ)
- –ü—Ä–æ–≤–µ—Ä—å —á—Ç–æ db-service –ø—Ä–∞–≤–∏–ª—å–Ω–æ –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ—Ç —Ñ–æ—Ä–º–∞—Ç—ã
- –ü—Ä–æ–≤–µ—Ä—å console.log –¥–ª—è –æ—à–∏–±–æ–∫ –º–∞–ø–ø–∏–Ω–≥–∞

---

## üìû –ö–æ–Ω—Ç–∞–∫—Ç—ã
- **–í–µ—Ä—Å–∏—è:** 3.2.2
- **–î–∞—Ç–∞:** 03.02.2026
- **–ü—Ä–µ–¥—ã–¥—É—â–∞—è –≤–µ—Ä—Å–∏—è:** 3.2.1
- **–°–ª–µ–¥—É—é—â–∞—è –≤–µ—Ä—Å–∏—è:** 3.2.3

---

**–£—Å–ø–µ—Ö–æ–≤ –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ! üöÄ**
